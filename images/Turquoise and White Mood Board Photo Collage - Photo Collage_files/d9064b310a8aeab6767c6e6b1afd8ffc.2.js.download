(self["webpackJsonp"] = self["webpackJsonp"] || []).push([["qMFH"],{"MqMFH":function(_,__,__webpack_require__){__webpack_require__.n_x = __webpack_require__.n;__webpack_require__("MEEO/");__webpack_require__("MP4bM");self._bfa324c796fedc27ad6e48ccdc3f1756 = self._bfa324c796fedc27ad6e48ccdc3f1756 || {};(function(__c) {'use strict';var rGe=function(a,b){const c=Date.now();return a.hb(new __c.PP({id:a.ibd.next(),author:a.eea,Oh:c,im:c,content:b.content,bh:b.bh,SQ:"pending",jN:b}))},sGe=function(a,b,c){return __c.Mj(a.viewport.jw(c).transform(b)).top},tGe=function(a){if(a.viewport.Vl&&!(!a.reference||a.dk&&a.dk.focused||a.isDragging())){var b=a.reference.page,c=a.reference.HJb;if(!a.$pa(a.reference.target)){var d=a.viewport.Epa();return{offset:sGe(a,d,b)+c*a.config.zoom}}}},xGe=function(a){let b;const c=s8.J(()=>
a.viewport.Vl?a.mode:void 0,f=>{f&&(window.clearTimeout(b),b=void 0,"overlay"===f?a.bJa=!0:b=window.setTimeout(s8.l(()=>{a.bJa=!1}),uGe))},{fireImmediately:!0}),d=s8.J(()=>a.N5,f=>{const g=new Set(f.map(({ref:{target:h}})=>h));for(const h of a.Uab())h.ref&&!g.has(h.ref.target)&&(h.ref=void 0,a.dk&&a.dk.store===h&&(a.dk=void 0));for(const {ref:h,Vf:l}of f)for(const n of l)!n.ref&&n instanceof t8&&(n.ref=h);for(const h of a.iX.keys())g.has(h)||a.iX.delete(h)},{fireImmediately:!0}),e=s8.J(()=>{if(a.viewport.Vl&&
!a.isDragging()&&!a.viewport.LT){var f=a.N5;"story"===a.config.Th&&(f=f.filter(({ref:{page:r}})=>r===a.viewport.$a));if(0!==f.length){var g=[],h=a.viewport.Epa(),l=a.config.zoom,n;for(const {ref:r,ref:{page:t,target:u},Vf:v}of f){f=r.HJb;n&&n.page===t||(n={page:r.page,offset:sGe(a,h,t)});f=n.offset+f*l;for(const x of v)x.ref&&x.ref.target===u&&g.push({store:x,offset:f,height:x.Aea})}h=tGe(a);if(!a.Qqa&&h)h={type:"button",offset:h.offset};else{const r=a.dk&&a.dk.store;h=r?g.findIndex(({store:t})=>
r===t):0;h={type:"comment",EG:-1<h?h:0}}return{reference:h,Nqd:g}}}},f=>{if(f){var g=f.reference,h=f.Nqd;f=(n,r)=>{for(;0<=n;n--){const {store:t,height:u}=h[n];r-=u;if(t.offset<=r)break;r=t.offset=r}};var l=(n,r)=>{for(;n<h.length;n++){const {store:t,offset:u,height:v}=h[n];t.offset=Math.max(u,r);r=t.offset+v}};l(0,0);if("comment"===g.type){const {store:n,offset:r,height:t}=h[g.EG];n.offset=r;f(g.EG-1,r);l(g.EG+1,r+t)}else if("button"===g.type){const n=g.offset,r=h.findIndex(t=>t.offset>=g.offset);
0>r?f(h.length-1,n):(f(r-1,n),l(r,n+vGe))}else throw new __c.B(g);}},{fireImmediately:!0,scheduler:wGe});return()=>{c();d();e()}},yGe=function(a,b){return!!b.ref&&a.page===b.ref.page&&a.element===b.ref.element&&a.parent===b.ref.parent},zGe=function(a,b){const c=a.HDb(b);return(a=a.iX.get(b))?[...c,a]:c},u8=async function(a,b){if(!a.mf(b)){var {page:c,element:d,parent:e}=__c.p(b.ref);"story"===a.config.Th&&(a.selection.Ri(c),await Promise.resolve());s8.K(()=>{a.dk={store:b,focused:!0};d?e?a.selection.xN(c,
e,d):a.selection.Hi(c,d):a.selection.Ri(c);AGe(a,b)})}},CGe=function(a,b){const c=new BGe(__c.p(a.reference));c.offset=__c.p(tGe(a)).offset;var d=a.controller;__c.S0c(d.analytics,{ea:d.ea,source:b});a.iX.set(c.ref.target,c);u8(a,c)},AGe=function(a,b){var c=__c.p(b.ref);const {config:{zoom:d},viewport:e}=a;var f=e.Epa(),g=__c.Mj(e.bu().transform(f));const h=g.height,l=g.top,n=l+h;g=e.jw(c.page).transform(f);c=c.element?c.Kna.transform(__c.xj(d).then(__c.Pj(g))):g;var r=__c.Mj(c);const t=r.top;r=t+
r.height;b=t+b.Aea;t>=l&&t<=n||r>=l&&r<=n&&b>=l&&b<=n||(g.height<=h?b=g.center().y-h/2:c.height<=h?(b=c.center().y-h/2,g=__c.Mj(g),b=Math.max(b,g.top),b=Math.min(b,g.top+g.height-h)):b=t,f=__c.Cj(f).then(e.VX()).transform(0,0).y+b,a.llb.animate(()=>e.Ow.y,u=>e.Cja(u),f))},DGe=function(a,{ref:b,Pb:c}){c instanceof t8&&(c.ref=b,a.dk&&a.dk.focused&&(a.dk={store:a.dk.store,focused:!1}));u8(a,c)},EGe=function(a){const b=a.dk,c=a.EVc;if(0!==c.length){var d=b?c.findIndex(({ref:e,Pb:f})=>f===b.store&&yGe(e,
f)):0;DGe(a,c[b&&b.focused?(d+1)%c.length:d])}},FGe=function(a){const b=a.dk,c=a.EVc;if(0!==c.length){var d=((b?c.findIndex(({ref:e,Pb:f})=>f===b.store&&yGe(e,f)):c.length)+c.length-1)%c.length;DGe(a,c[d])}},HGe=function(a,b,c,d){c=GGe(a.Xbb,a.$pa,c,a.oh,d);let e;for(let g=c.length-1;0<=g;g--){var f=c[g];const h=new __c.wS(b,f,d),l=a.controller.fAa(f).list;for(const n of l)n.ref=h;0<l.length?e=l[0]:(f=a.iX.get(f))&&(e=f)}return e},GGe=function(a,b,c,d,e){a=__c.p1c(c,e,b,a);a.sort(__c.r1c(d));return a.map(({element:f})=>
f)},wGe=function(a){requestAnimationFrame(()=>setTimeout(a,0))},v8=__webpack_require__("mrSG");var s8=__webpack_require__("2vnA");var IGe=__webpack_require__("Gp1o");var JGe=__webpack_require__("TSYQ"),KGe=__webpack_require__.n_x(JGe);var w8=__webpack_require__("TyAF");var x8=__webpack_require__("q1tI");var LGe=__webpack_require__("CMvH");var uGe=parseInt("200ms",10),vGe=parseInt("32px",10)+__c.Rw,MGe=parseInt("256px",10)+parseInt("48px",10)+__c.Rw,y8=class{constructor(){this.Aea=1}};__c.k(()=>y8.prototype.Aea);Object(v8.a)([s8.E.ref],y8.prototype,"Aea",void 0);__c.k(()=>y8.prototype.offset);Object(v8.a)([s8.E.ref],y8.prototype,"offset",void 0);var t8=class extends y8{constructor(a){super();this.bc=a}};__c.k(()=>t8.prototype.ref);Object(v8.a)([s8.E.ref],t8.prototype,"ref",void 0);
var NGe=new __c.Wt("draft_comment_"),BGe=class extends y8{constructor(a){super();this.ref=a;this.id=NGe.next()}},z8=class{constructor(a,b,c,d,e,f,g,h){this.controller=a;this.document=b;this.config=c;this.isDragging=d;this.selection=e;this.viewport=f;this.Sj=g;this.oh=h;this.iX=new Map;this.Z$=new Map;this.hza=new s8.c;this.llb=new __c.fk;this.MOc=s8.q("commentingAvailableMargin");this.bJa=this.$pb=!1;this.Lva=Object(IGe.h)(l=>new __c.xS(l,this.l7a,this.oh,this.$pa,this.Xbb));this.l7a=Object(IGe.h)(l=>
new __c.yS(l,this.$pa,this.Xbb));this.$pa=l=>this.iX.has(l);this.Xbb=l=>(l=this.Z$.get(l))?0<l.length:!1}get wOa(){const a=this.oh;var b=this.viewport;this.MOc.reportObserved();if(!b.Vl)return 0;const c=b.bu();b=b.SBa();return Math.min(MGe,Math.max(0,a?b.Yc.x-c.Yc.x:c.r.x-b.r.x))}get Qqa(){return isNaN(this.wOa)||this.wOa>=MGe}get mode(){if(this.Qqa)return"pinned";if(this.zic)return"overlay";const a=0<this.Ws.length;return!this.$pb&&a?"overlay":"pinned"}get EVc(){return this.N5.flatMap(a=>{const b=
a.ref;return a.Vf.map(c=>({ref:b,Pb:c}))})}get N5(){const a=[];if(!this.viewport.Vl)return[];this.document.fa.toArray().forEach(b=>{var c=zGe(this,b);0<c.length&&a.push({ref:new __c.wS(b),Vf:c});for(const {element:d,parent:e}of this.Lva(b).Sua)c=zGe(this,d),0<c.length&&a.push({ref:new __c.wS(b,d,e),Vf:c})});return a}get Ws(){return"story"===this.config.Th?this.X5b:this.tDb}get g8b(){return"story"===this.config.Th?this.Y5b:this.vDb}Uab(){return[...this.controller.Uab(),...[...this.Z$.values()].flat()]}get tDb(){const a=
[];for(const b of this.Uab())b.ref&&a.push(b);return a}get X5b(){return this.tDb.filter(a=>{var b;return(null===(b=a.ref)||void 0===b?void 0:b.page)===this.viewport.$a})}get vDb(){return[...this.iX.values()]}get Y5b(){return this.vDb.filter(a=>{var b;return(null===(b=a.ref)||void 0===b?void 0:b.page)===this.viewport.$a})}c2b(a){this.iX.delete(a.ref.target);this.dk&&this.dk.store===a&&(a=a.ref.target.jc,this.dk=0<a.length?(a=this.controller.PBa(a[a.length-1]))&&{store:a,focused:!1}:void 0)}async eGc(a,
b){var c;const d=rGe(this.controller,b);d.ref=a.ref;this.Z$.get(a.ref.target)?null===(c=this.Z$.get(a.ref.target))||void 0===c?void 0:c.push(d):this.Z$.set(a.ref.target,[d]);this.iX.delete(a.ref.target);d.offset=a.offset;d.Aea=a.Aea;u8(this,d);a=await __c.a1c(this.controller,a.ref.target,b,s8.l(()=>{d.bc.Pb.SQ="error"}));this.nEb(d,a)}Lwc(a){var b;if(null!==(b=a.ref)&&void 0!==b&&b.target){b=this.Z$.get(a.ref.target)||[];var c=b.indexOf(a);-1!==c&&(b.splice(c,1),this.Z$.set(a.ref.target,[...b]))}}async cyc(a){var b,
c,d;null!==(b=a.ref)&&void 0!==b&&b.target&&(a.bc.Pb.SQ="pending",b=await __c.a1c(this.controller,a.ref.target,{AJ:(null===(c=a.bc.Pb.jN)||void 0===c?void 0:c.AJ)||[],content:a.bc.Pb.content,bh:(null===(d=a.bc.Pb.jN)||void 0===d?void 0:d.bh)||[]},s8.l(()=>{a.bc.Pb.SQ="error"})),this.nEb(a,b))}nEb(a,b){var c,d;a.bc.am.map(e=>{var f,g;return this.Y1(b,{AJ:(null===(f=e.jN)||void 0===f?void 0:f.AJ)||[],content:e.content,bh:(null===(g=e.jN)||void 0===g?void 0:g.bh)||[]})});this.Lwc(a);(null===(c=this.dk)||
void 0===c?void 0:c.store)!==a||null!==(d=this.dk)&&void 0!==d&&d.focused||s8.K(()=>this.dk={store:b,focused:!1});this.mf(a)&&(b.offset=a.offset,b.Aea=a.Aea,u8(this,b))}Fna(a,b){a.bc.Pb.content=b.content;a.bc.Pb.bh=b.bh;a.bc.Pb.im=Date.now();a.bc.Pb.SQ="pending";a.bc.Pb.jN=b;return this.controller.Fna(a,b,s8.l(()=>a.bc.Pb.SQ="error"))}aOb(a){if(this.dk&&this.dk.store===a){const c=__c.p(a.ref);var b=c.target.jc;const d=b.findIndex(e=>e===a.bc.Pb.id);this.dk=(b=b.slice(0,d).reverse().concat(b.slice(d+
1)).map(e=>this.controller.PBa(e)).find(e=>e&&e.ref?e.ref.element===c.element:!1))&&{store:b,focused:!1}}}SD(a){this.aOb(a);return this.controller.SD(a)}m5(a){this.aOb(a);return this.controller.m5(a,b=>{__c.ls(this.Sj,{Qd:__c.A("LRA3hg",[]),Jm:{type:"custom",Wz:__c.A("rnE3Tg",[]),HA:b}})})}neb(a){return this.controller.neb(a)}Wkb(a,b){return this.controller.Wkb(a,b)}Y1(a,b){const c=this.controller.BZb(a,b);return this.controller.Y1(a,b,c.id)}Gna(a,b,c){return this.controller.Gna(a,b,c)}IS(a,b){return this.controller.IS(a,
b)}Wg(a){return this.controller.Wg(a)}Vr(a){return this.controller.Vr(a)}Gab(){this.MOc.reportChanged()}get g6(){var a,b=this.dk?this.dk.store:this.N5[0];return(b=null===(a=null===b||void 0===b?void 0:b.ref)||void 0===a?void 0:a.page)&&this.document.fa.has(b)?b:void 0}get zic(){return!!this.dk&&this.dk.focused}mf(a){return!!this.dk&&this.dk.store===a&&this.dk.focused}D5a(a){this.mf(a)&&(this.dk={store:a,focused:!1})}shb(a){this.reference=void 0;this.hza.clear();if(a){var b=a.page,c=a.elements;a=a.parent;
this.$pb||(this.$pb=this.Ws.some(e=>e.ref&&e.ref.page===b));if(c){this.hza.replace(c.flatMap(e=>zGe(this,e)));var d=HGe(this,b,c,a);1===c.length&&(this.reference=new __c.wS(b,c[0],a));!d||this.dk&&this.dk.store.ref&&this.dk.store.ref.element&&c.includes(this.dk.store.ref.element)||(this.dk={store:d,focused:!1})}else{this.reference=new __c.wS(b);c=this.HDb(b);for(d of c)d.ref=this.reference;if(c[0]||this.iX.get(b))this.dk&&this.dk.store.ref&&this.dk.store.ref.target===b||(this.dk={store:c[0],focused:!1});
this.hza.replace([...zGe(this,b)])}}}HDb(a){return this.controller.fAa(a).list.concat(this.Z$.get(a)||[])}};__c.k(()=>z8.prototype.dk);Object(v8.a)([s8.E.ref],z8.prototype,"dk",void 0);__c.k(()=>z8.prototype.reference);Object(v8.a)([s8.E.ref],z8.prototype,"reference",void 0);__c.k(()=>z8.prototype.iX);Object(v8.a)([s8.E.shallow],z8.prototype,"iX",void 0);__c.k(()=>z8.prototype.Z$);Object(v8.a)([s8.E.deep],z8.prototype,"Z$",void 0);__c.k(()=>z8.prototype.hza);
Object(v8.a)([s8.E.ref],z8.prototype,"hza",void 0);__c.k(()=>z8.prototype.$pb);Object(v8.a)([s8.E.ref],z8.prototype,"$pb",void 0);__c.k(()=>z8.prototype.bJa);Object(v8.a)([s8.E.ref],z8.prototype,"bJa",void 0);__c.k(()=>z8.prototype.wOa);Object(v8.a)([s8.o],z8.prototype,"wOa",null);__c.k(()=>z8.prototype.Qqa);Object(v8.a)([s8.o],z8.prototype,"Qqa",null);__c.k(()=>z8.prototype.mode);Object(v8.a)([s8.o],z8.prototype,"mode",null);__c.k(()=>z8.prototype.N5);
Object(v8.a)([s8.o.struct],z8.prototype,"N5",null);__c.k(()=>z8.prototype.Ws);Object(v8.a)([s8.o.struct],z8.prototype,"Ws",null);__c.k(()=>z8.prototype.g8b);Object(v8.a)([s8.o.struct],z8.prototype,"g8b",null);__c.k(()=>z8.prototype.tDb);Object(v8.a)([s8.o.struct],z8.prototype,"tDb",null);__c.k(()=>z8.prototype.X5b);Object(v8.a)([s8.o.struct],z8.prototype,"X5b",null);__c.k(()=>z8.prototype.vDb);Object(v8.a)([s8.o.struct],z8.prototype,"vDb",null);__c.k(()=>z8.prototype.Y5b);
Object(v8.a)([s8.o.struct],z8.prototype,"Y5b",null);__c.k(()=>z8.prototype.c2b);Object(v8.a)([s8.l],z8.prototype,"c2b",null);__c.k(()=>z8.prototype.eGc);Object(v8.a)([s8.l],z8.prototype,"eGc",null);__c.k(()=>z8.prototype.Lwc);Object(v8.a)([s8.l],z8.prototype,"Lwc",null);__c.k(()=>z8.prototype.cyc);Object(v8.a)([s8.l],z8.prototype,"cyc",null);__c.k(()=>z8.prototype.nEb);Object(v8.a)([s8.l],z8.prototype,"nEb",null);__c.k(()=>z8.prototype.Fna);Object(v8.a)([s8.l],z8.prototype,"Fna",null);__c.k(()=>z8.prototype.aOb);
Object(v8.a)([s8.l],z8.prototype,"aOb",null);__c.k(()=>z8.prototype.SD);Object(v8.a)([s8.l],z8.prototype,"SD",null);__c.k(()=>z8.prototype.m5);Object(v8.a)([s8.l],z8.prototype,"m5",null);__c.k(()=>z8.prototype.g6);Object(v8.a)([s8.o],z8.prototype,"g6",null);__c.k(()=>z8.prototype.zic);Object(v8.a)([s8.o],z8.prototype,"zic",null);var B8=class extends x8.Component{constructor(){super(...arguments);this.drc=a=>{var b,c;const d=this.props.store,e=this.props.v;return a.Oh!==a.im?e.Fna(d,{AJ:(null===(b=a.jN)||void 0===b?void 0:b.AJ)||[],content:a.content,bh:(null===(c=a.jN)||void 0===c?void 0:c.bh)||[]}):e.cyc(d)};this.erc=a=>{var b,c;const d=this.props.store,e=this.props.v;return a.Oh!==a.im?e.Gna(d,a,{AJ:(null===(b=a.jN)||void 0===b?void 0:b.AJ)||[],content:a.content,bh:(null===(c=a.jN)||void 0===c?void 0:c.bh)||[]}):e.Wkb(d,
a)};this.Wg=a=>this.props.v.Wg(a);this.Vr=a=>this.props.v.Vr(a);this.upc=()=>u8(this.props.v,this.props.store);this.AQ=a=>this.props.v.Fna(this.props.store,a);this.rqc=a=>this.props.v.Y1(this.props.store,a);this.D$=(a,b)=>this.props.v.Gna(this.props.store,a,b);this.mpc=()=>{this.props.v.neb(this.props.store)};this.oz=()=>this.props.v.SD(this.props.store);this.zQ=a=>this.props.v.IS(this.props.store,a);this.gu=()=>this.props.v.m5(this.props.store)}get s3(){const a=this.props.store,b=this.props.v;return this.props.focused||
b.hza.has(a)}render(){const {store:{bc:a},focused:b,wm:c,Lm:d,eq:e}=this.props;return x8.createElement("div",{id:`comment-${a.Pb.id}`,className:KGe()("hkc8Dw SeGh3Q",{["hI07rw EEWnjA Y6qKQQ"]:this.s3})},x8.createElement(A8,{bc:a.Pb,am:a.am,su:a.su,focused:b,Wg:this.Wg,Vr:this.Vr,Lm:d,rqc:this.rqc,upc:this.upc,AQ:this.AQ,D$:this.D$,mpc:this.mpc,oz:this.oz,zQ:this.zQ,gu:this.gu,drc:this.drc,erc:this.erc,wm:c,eq:e}))}};__c.k(()=>B8.prototype.s3);Object(v8.a)([s8.o],B8.prototype,"s3",null);
B8=Object(v8.a)([w8.b],B8);
var C8=class extends x8.Component{constructor(){super(...arguments);this.LMd=a=>this.props.v.eGc(this.props.store,a);this.Oc=()=>{this.props.v.c2b(this.props.store)}}get s3(){const a=this.props.store,b=this.props.v;return this.props.focused||b.hza.has(a)}render(){const a=this.props.wm,b=this.props.Lm;return x8.createElement("div",{className:KGe()("hkc8Dw SeGh3Q",{["hI07rw EEWnjA Y6qKQQ"]:this.s3})},x8.createElement(__c.LR,{type:"comment",wm:a,Zmb:!0,onSubmit:this.LMd,Oc:this.Oc,Lm:b}))}};
__c.k(()=>C8.prototype.s3);Object(v8.a)([s8.o],C8.prototype,"s3",null);C8=Object(v8.a)([w8.b],C8);
var A8=class extends x8.Component{constructor(){super(...arguments);this.GGb=!0;this.ui=a=>{const b=this.props.drc,c=this.props.erc;a===this.props.bc?b(a):c(a)};this.QM=(a,b)=>{const c=this.props.AQ,d=this.props.D$;return a===this.props.bc?c(b):d(a,b)};this.Vm=a=>{const b=this.props.oz,c=this.props.zQ;return a===this.props.bc?b():c(a)}}render(){const a=this.props.am,b=this.props.Lm,c=this.props.rqc,d=this.props.mpc,e=this.props.wm,f=this.props.su-a.length,g={onFocus:this.props.upc,QM:this.QM,Vm:this.Vm,
PFa:this.props.gu,ui:this.ui,wm:e,Wg:this.props.Wg,Vr:this.props.Vr,Lm:b,eq:this.props.eq};return x8.createElement(x8.Fragment,null,x8.createElement(D8,Object.assign({},g,{Pb:this.props.bc,type:"comment"})),0<f&&x8.createElement("button",{className:"dTVvdQ gLTEuQ XvGYmg",onClick:d},__c.A("ZKrOZQ",[f])),a.map(h=>x8.createElement(D8,Object.assign({},g,{key:h.id,Pb:h,type:"reply"}))),this.GDc&&x8.createElement(__c.LR,{type:"reply",onSubmit:c,onChange:this.qqc,wm:e,Zmb:!0,Lm:b}))}get GDc(){return this.props.focused||
!this.GGb}qqc(a){this.GGb=!a}};__c.k(()=>A8.prototype.GGb);Object(v8.a)([s8.E.ref],A8.prototype,"GGb",void 0);__c.k(()=>A8.prototype.GDc);Object(v8.a)([s8.o],A8.prototype,"GDc",null);__c.k(()=>A8.prototype.qqc);Object(v8.a)([s8.l.bound],A8.prototype,"qqc",null);A8=Object(v8.a)([w8.b],A8);
var D8=class extends x8.Component{constructor(){super(...arguments);this.vA=!1;this.ui=()=>{const a=this.props.ui;a(this.props.Pb)};this.gu=()=>{const a=this.props.PFa;return a(this.props.Pb)};this.QM=a=>{const b=this.props.Pb,c=this.props.QM;this.vA=!1;return c(b,a)};this.pfc=()=>{this.vA=!0;this.props.onFocus()}}render(){const a=this.props.Lm,b=this.props.Pb,c=this.props.wm,d=this.props.type,e=this.props.eq;return this.vA?x8.createElement("div",{className:"R3c_Fg"},x8.createElement(__c.LR,{type:d,
onSubmit:this.QM,Oc:this.Yoc,wm:c,Zmb:!0,Lm:a,Pb:b})):x8.createElement(e,{PFa:"comment"===d?this.gu:void 0,type:d,pending:"pending"===b.SQ,error:"error"===b.SQ?x8.createElement(OGe,{ui:this.ui}):void 0,key:b.id,Pb:b,b4:this.b4})}Yoc(){this.vA=!1}get b4(){const a=this.props.Pb,b=this.props.Wg,c=this.props.Vr,d=this.props.Vm,e="reply"===this.props.type,f=[];b(a)&&f.push({Icon:__c.Ru,label:e?__c.A("r/GefQ",[]):__c.A("L1Ai+w",[]),onMouseUp:()=>this.pfc()});c(a)&&f.push({Icon:__c.mC,label:e?__c.A("17eDJA",
[]):__c.A("Cj3aIw",[]),onMouseUp:()=>d(a)});return f}};__c.k(()=>D8.prototype.vA);Object(v8.a)([s8.E.ref],D8.prototype,"vA",void 0);__c.k(()=>D8.prototype.Yoc);Object(v8.a)([s8.l.bound],D8.prototype,"Yoc",null);__c.k(()=>D8.prototype.QM);Object(v8.a)([s8.l.bound],D8.prototype,"QM",void 0);__c.k(()=>D8.prototype.pfc);Object(v8.a)([s8.l],D8.prototype,"pfc",void 0);__c.k(()=>D8.prototype.b4);Object(v8.a)([s8.o],D8.prototype,"b4",null);D8=Object(v8.a)([w8.b],D8);
var OGe=({ui:a})=>x8.createElement(x8.Fragment,null,x8.createElement("span",null,__c.A("13+qHQ",[])," "),x8.createElement(__c.ly,{onClick:a},__c.A("Frp0dA",[])));var PGe=parseInt("256px",10),G8=class extends x8.Component{constructor(){super(...arguments);this.Gab=()=>{this.props.v.Gab()};this.sfd=w8.b(a=>x8.createElement(B8,Object.assign({},a,{eq:this.props.eq})))}componentDidMount(){const a=this.props.v,b=this.props.selection;Object(w8.a)(this,xGe(a));Object(w8.a)(this,s8.J(()=>{var c;a:{if(c=b.state)switch(c.type){case "audio":break;case "pages":c={page:c.page};break a;case "elements":c=c.inner&&"group"===c.inner.type?{page:c.page,elements:c.inner.Xa,parent:c.inner.group}:
{page:c.page,elements:c.elements};break a;default:throw new __c.B(c);}c=void 0}return c},c=>a.shb(c),{fireImmediately:!0}))}get R3b(){const {v:{mode:a,wOa:b,oh:c}}=this.props;if("pinned"===a||0>=b)return 0;if("overlay"===a)return(c?-1:1)*(b-PGe-4*__c.Rw);throw new __c.B(a);}render(){const a=this.props.v,b=this.props.wm,c=this.props.Aq,d=a.mode,e=a.wOa,f=a.Qqa,g=a.oh;return x8.createElement(x8.Fragment,null,x8.createElement(E8,{v:a}),x8.createElement("div",{className:KGe()("cJaGbg",{["_4xrvYw"]:"overlay"===
d}),style:{width:`${e}px`,transform:`translateX(${this.R3b}px)`}},a.Ws.map(h=>x8.createElement(F8,{key:h.bc.Pb.id,TLc:this.sfd,store:h,v:a,oh:g,wm:b,focused:a.mf(h),Lm:1===c.status,Qqa:f,onMouseDown:this.Gab})),a.g8b.map(h=>x8.createElement(F8,{key:h.id,TLc:C8,store:h,v:a,oh:g,wm:b,focused:a.mf(h),Lm:1===c.status,Qqa:f,onMouseDown:this.Gab}))))}};__c.k(()=>G8.prototype.R3b);Object(v8.a)([s8.o],G8.prototype,"R3b",null);G8=Object(v8.a)([w8.b],G8);
var E8=class extends x8.Component{componentDidMount(){Object(w8.a)(this,s8.J(()=>tGe(this.props.v),a=>this.offset=a&&a.offset,{equals:s8.n.structural,scheduler:a=>requestAnimationFrame(()=>setTimeout(a,0))}))}render(){return x8.createElement(__c.KMb,null,null!=this.offset&&x8.createElement(__c.Ps,{label:__c.A("CRsrKA",[])},x8.createElement("button",{className:"oPuYeA qtDcVg Y6qKQQ",onClick:this.VEa,style:{transform:`translateY(${this.offset}px)`}},x8.createElement(__c.MF,{size:"medium"}))))}VEa(){const a=
this.props.v;a.Gab();CGe(a,"comment_button")}};__c.k(()=>E8.prototype.offset);Object(v8.a)([s8.E.ref],E8.prototype,"offset",void 0);__c.k(()=>E8.prototype.VEa);Object(v8.a)([s8.l.bound],E8.prototype,"VEa",null);E8=Object(v8.a)([w8.b],E8);
var F8=class extends x8.Component{constructor(){super(...arguments);this.element=x8.createRef();this.$ha=()=>{const a=this.props.v,b=this.props.store;{const c=document.getSelection&&document.getSelection();c&&"Range"===c.type&&this.element.current&&c.containsNode(this.element.current,!0)&&c.removeAllRanges()}a.mf(b)&&document.addEventListener("mouseup",this.D5a,{once:!0})}}render(){const a=this.props.TLc;var b=this.props.Qqa,c=this.props.oh;const d=this.props.store,e=this.props.focused,f=KGe()("_3qDOXA qtDcVg",
{["jAmg0A"]:e,["kR-vew"]:b});b=(b?-5:-4)*__c.Rw;c=null!=d.offset?`translate(${e?(c?-1:1)*b:0}px, ${d.offset}px)`:`matrix3d(0${", 0".repeat(15)})`;return x8.createElement(__c.qF,{EQ:this.$ha},x8.createElement("div",{ref:this.element,style:{transform:c},className:f,onMouseDown:this.onMouseDown},x8.createElement(LGe.a,{client:!0,onResize:this.Kpc},({measureRef:g})=>x8.createElement("div",{ref:g,className:"eC5Pag"},x8.createElement(a,Object.assign({},this.props))))))}Kpc(a){this.props.store.Aea=a.client.height+
__c.Rw}onMouseDown(){const a=this.props.onMouseDown;u8(this.props.v,this.props.store);a()}D5a(){this.props.v.D5a(this.props.store)}};__c.k(()=>F8.prototype.Kpc);Object(v8.a)([s8.l.bound],F8.prototype,"Kpc",null);__c.k(()=>F8.prototype.onMouseDown);Object(v8.a)([s8.l.bound],F8.prototype,"onMouseDown",null);__c.k(()=>F8.prototype.D5a);Object(v8.a)([s8.l.bound],F8.prototype,"D5a",null);F8=Object(v8.a)([w8.b],F8);__c.mfd={Dzd:function({analytics:a,Yr:b,ca:c,config:d,oh:e,eea:f,ea:g,ci:h,iyb:l,document:n,isDragging:r,wm:t,sb:u,Aq:v,selection:x,ALa:z,viewport:C,undo:F,eq:K}){const I=new __c.gS(a,g,h,l,n,b,z,f,F,N=>new t8(N),N=>__c.ls(u,{Qd:N})),R=new z8(I,n,d,r,x,C,u,e);return new __c.vS({controller:I,ca:c,Component:()=>x8.createElement(G8,{config:d,v:R,wm:t,Aq:v,selection:x,eq:K}),qTa:()=>{},tfb:N=>{tGe(R)&&CGe(R,N)},Kja:N=>{(N=I.PBa(N))&&N.ref&&u8(R,N)},XRb:()=>EGe(R),eSb:()=>FGe(R),l4a:()=>R.bJa})}};
}).call(self, self._bfa324c796fedc27ad6e48ccdc3f1756);}},[["MqMFH","fDYT","EEO/","K2W9","P4bM","QA57"]]])
//# sourceMappingURL=sourcemaps/d9064b310a8aeab6767c6e6b1afd8ffc.2.js.map